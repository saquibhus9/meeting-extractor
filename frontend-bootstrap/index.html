<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Meeting Summarizer</title>
  <link rel="icon" href="logo.png" type="image/png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="navbar navbar-expand-lg navbar-dark bg-primary py-3 shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="#">
        <img src="static/images/logo.png" alt="Logo" width="40" height="40"> MemoBot
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navMenu">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
          <li class="nav-item"><a class="nav-link" href="#how">How It Works</a></li>
          <li class="nav-item"><a class="nav-link" href="#footer">About</a></li>
        </ul>
      </div>
    </div>
  </header>

  <section class="hero py-5 bg-light text-center border-bottom">
    <div class="container">
      <h1 class="display-4 fw-bold text-primary">AI-Powered Meeting Summarizer</h1>
      <p class="lead text-muted">Looking for a way to condense audio content effortlessly? Our free audio summarizer transforms long recordings into clear, concise summaries, making it easier than ever to grasp essential information quickly..</p>
    </div>
  </section>

  <section class="py-5">
    <div class="container">
      <div class="card shadow-lg border-0 p-4">
        <h5 class="mb-3">üéôÔ∏è Upload Your Audio</h5>
        <input type="file" id="audioFile" class="form-control mb-3" accept=".mp3,.wav,.mp4,.mpeg,.mpga,.m4a,.webm">
        <button class="btn btn-primary" id="uploadBtn">Detect & Summarize</button>
       <div id="loading" class="mt-4 d-none text-center">
      <div class="spinner-border text-primary mb-2" role="status">
      <span class="visually-hidden">Loading...</span>
  </div>
     <div class="progress" style="height: 8px;">
     <div id="progressBar" class="progress-bar bg-primary" role="progressbar" style="width: 0%"></div>
  </div>
  <small class="text-muted d-block mt-1">‚è≥ Processing your file...</small>
</div>
      </div>
    </div>
  </section>

  <section class="py-5 d-none" id="outputSection">
    <div class="container">
      <div class="mb-4">
        <h4 class="text-primary">üìù Transcript</h4>
        <div class="border p-3 rounded bg-white" id="transcriptBox"></div>
      </div>
      <div>
        <h4 class="text-primary">üìã Summary</h4>
        <div class="border p-3 rounded bg-light" id="summaryBox"></div>
      </div>
    </div>
  </section>

  <section id="features" class="py-5 bg-white border-top border-bottom">
    <div class="container">
      <h3 class="text-center text-primary mb-4">üîç Key Features</h3>
      <div class="row g-4">
        <div class="col-md-3">
          <div class="card h-100 border-0 shadow-sm text-center p-3">
            <h5 class="fw-bold">üéß Audio to Text</h5>
            <p>Convert speech to text using Whisper for accurate transcription.</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card h-100 border-0 shadow-sm text-center p-3">
            <h5 class="fw-bold">üß† Smart Summary</h5>
            <p>Summarize key points using Mistral AI via Ollama for clarity.</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card h-100 border-0 shadow-sm text-center p-3">
            <h5 class="fw-bold">‚ö° Fast Inference</h5>
            <p>Quick local processing using FastAPI & local LLM runner.</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card h-100 border-0 shadow-sm text-center p-3">
            <h5 class="fw-bold">üîí Private</h5>
            <p>Runs locally. No cloud upload. Your data stays with you.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="how" class="py-5 bg-light">
    <div class="container">
      <h3 class="text-center text-primary mb-4">‚öôÔ∏è How It Works</h3>
      <ol class="list-group list-group-numbered">
        <li class="list-group-item">User uploads a `.mp3` file via frontend.</li>
        <li class="list-group-item">Backend processes it using Whisper for transcription.</li>
        <li class="list-group-item">Transcript is sent to Mistral (Ollama API) for summarization.</li>
        <li class="list-group-item">Results (transcript + summary) shown below.</li>
      </ol>
    </div>
  </section>

  <footer id="footer" class="bg-dark text-light py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <h5 class="text-white">üß† AI Summarizer</h5>
          <p >An intelligent assistant to transcribe & summarize your audio recordings locally using open AI models.</p>
        </div>
        <div class="col-md-4">
          <h5 class="text-white">Features</h5>
          <ul class="list-unstyled text-muted">
            <li>Audio Transcription</li>
            <li>AI Summarization</li>
            <li>Fast & Lightweight</li>
          </ul>
        </div>
        <div class="col-md-4">
          <h5 class="text-white">Connect</h5>
          <ul class="list-unstyled text-muted">
            <li><a href="#" class="text-decoration-none">GitHub</a></li>
            <li><a href="#" class="text-decoration-none">LinkedIn</a></li>
            <li><a href="#" class="text-decoration-none">Portfolio</a></li>
          </ul>
        </div>
      </div>
      <p class="text-center text-secondary small mt-4">¬© 2025 AI Meeting Summarizer. All rights reserved.</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
  const uploadBtn = document.getElementById("uploadBtn");
  const audioInput = document.getElementById("audioFile");
  const transcriptBox = document.getElementById("transcriptBox");
  const summaryBox = document.getElementById("summaryBox");
  const outputSection = document.getElementById("outputSection");
  const loading = document.getElementById("loading");
  const progressBar = document.getElementById("progressBar");

  uploadBtn.addEventListener("click", async () => {
    const file = audioInput.files[0];
    if (!file) {
      alert("Please select an audio file first.");
      return;
    }

    const formData = new FormData();
    formData.append("file", file);

    // Reset
    loading.classList.remove("d-none");
    outputSection.classList.add("d-none");
    transcriptBox.innerHTML = "";
    summaryBox.innerHTML = "";
    progressBar.style.width = "0%";

    try {
      const xhr = new XMLHttpRequest();
      xhr.open("POST", "http://localhost:8000/transcribe/", true);

      xhr.upload.onprogress = (event) => {
        if (event.lengthComputable) {
          const percentComplete = Math.round((event.loaded / event.total) * 100);
          progressBar.style.width = percentComplete + "%";
        }
      };

      xhr.onload = () => {
        loading.classList.add("d-none");

        if (xhr.status === 200) {
          const data = JSON.parse(xhr.responseText);
          transcriptBox.textContent = data.transcript || "Transcript not available.";
          summaryBox.textContent = data.summary || "Summary not available.";
          outputSection.classList.remove("d-none");
        } else {
          alert("Upload failed. Check backend.");
        }
      };

      xhr.onerror = () => {
        loading.classList.add("d-none");
        alert("An error occurred while uploading.");
      };

      xhr.send(formData);
    } catch (error) {
      loading.classList.add("d-none");
      console.error("‚ùå Error:", error);
      alert("Unexpected error. See console.");
    }
  });
});
  </script>

</body>
</html>